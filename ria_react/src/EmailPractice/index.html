<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>이메일 형식</title>
  </head>
  <body>
    <input type="text" />
    <p></p>

    <script>
      // 웹페이지에서 입력된 값이 이메일 형식인지 확인하는 JS코드
      // 1. 페이지가 로드되면(DOMContentLoaded 이벤트 발생 시), 이 코드가 작동
      // input, p 태그의 요소를 가지고 와서
      //

      document.addEventListener("DOMContentLoaded", () => {
        const isEmail = (value) => {
          return value.indexOf("@") > 1 && value.split("@")[1].indexOf(".") > 1;
        };

        const input = document.querySelector("input");
        const p = document.querySelector("p");

        input.addEventListener("keyup", () => {
          const isValidEmail = isEmail(input.value);
          p.innerHTML = isValidEmail
            ? `이메일 형식입니다. : ${input.value}`
            : `이메일형식이 아닙니다. : ${input.value}`;
          p.style.color = isValidEmail ? "green" : "red";
        });
      });
      // input 태그에 글자 입력 양식의 keyup이벤트리스너 추가
      // isEmail(value) : true '이메일 형식입니다. : ${value}' 색상은 green
      // isEmail(value) : false '이메일형식이 아닙니다. : ${value}' 색상은 red
    </script>
  </body>
</html>
